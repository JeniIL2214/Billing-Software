<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_sale_order_form_inherit_custom" model="ir.ui.view">
        <field name="name">sale.order.form.inherit.custom</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">

            <header>

                <button name="action_open_qr_wizard"
                        type="object"
                        string="QR Code"
                        class="btn-primary"/>


                <!--                <button name="action_open_qr_wizard"-->
                <!--                        string="QR Code"-->
                <!--                        type="object"-->
                <!--                        class="btn-primary"-->
                <!--                        icon="fa-qrcode"/>-->
            </header>

            <xpath expr="//field[@name='validity_date']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <!--            <xpath expr="//div[label[@for='date_order']]" position="attributes">-->
            <!--                <attribute name="attrs">{'invisible': [('state', 'in', ['sale','cancel','draft','sent'])]}</attribute>-->
            <!--            </xpath>-->

            <xpath expr="//field[@name='pricelist_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='payment_term_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//div[@class='o_td_label'][label[@for='date_order']]" position="replace"/>
            <xpath expr="//field[@name='date_order']" position="replace"/>
            <xpath expr="//field[@name='date_order']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//group[@name='partner_details']" position="replace">
                <group colspan="2">

                    <group string="Customer Details" colspan="1">
                        <field name="partner_id" required="1" string="Customer *"/>
                        <field name="contact_per"/>
                        <!--                        <field name="customer_mobile"/>-->
                        <field name="customer_phone"/>
                        <field name="customer_email"/>
                        <field name="customer_gst"/>
                        <field name="customer_pan"/>
                        <field name="rev_change"/>
                        <field name="use_same_shipping"/>
                        <field name="shipping_address" invisible="use_same_shipping == True"
                               required="use_same_shipping == False"/>
                        <field name="place_of_sup" string="Place of Supply *" required="1"/>
                    </group>

                    <group string="Invoice Details" colspan="1">

                        <group colspan="2">
                            <field name="inv_type"/>
                        </group>

                        <group>
                            <field name="inv_no" string="Invoice no *" required="1"/>
                            <!--                            <field name="chal_no" required="payment_type == 'cheque'"/>-->
                            <field name="po_no"/>
                            <field name="lr_no"/>
                        </group>

                        <group>
                            <field name="inv_date" invisible="1"/>
                            <field name="inv_date" required="1" string="Date *"/>
                            <!--                            <field name="chal_date" required="payment_type == 'cheque'"/>-->
                            <field name="po_date"/>
                            <field name="eway_no"/>
                        </group>
                        <group colspan="2">
                            <field name="delivery"/>
                            <field name="chal_date" required="payment_type == 'cheque'"/>
                            <field name="challan_ids" required="payment_type == 'cheque'"/>

                        </group>

                    </group>

                </group>
            </xpath>

            <!--            name change -->
            <page name="order_lines" position="attributes">
                <attribute name="string">Product Items</attribute>
            </page>

            <xpath expr="//field[@name='order_line']/list//field[@name='price_unit']" position="attributes">
                <attribute name="string">Price</attribute>
            </xpath>

            <!--            <xpath expr="//field[@name='order_line']/list//field[@name='price_total']" position="attributes">-->
            <!--                <attribute name="string">Total</attribute>-->
            <!--            </xpath>-->

            <xpath expr="//field[@name='order_line']/list//field[@name='price_subtotal']" position="attributes">
                <attribute name="column_invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/list//field[@name='price_total']" position="attributes">
                <attribute name="column_invisible">0</attribute>
            </xpath>

            <xpath expr="//field[@name='order_line']/list//field[@name='price_unit']" position="after">
                <!--                <field name="discount"/>-->
            </xpath>

            <!--  remove the  add section note & catalog-->
            <xpath expr="//field[@name='order_line']/list/control/create[@name='add_section_control']"
                   position="replace"/>

            <xpath expr="//field[@name='order_line']/list/control/button[@name='action_add_from_catalog']"
                   position="replace"/>


            <!--hide form other info & customer sign-->
            <xpath expr="//page[@name='other_information']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//page[@name='customer_signature']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='order_line']/list/field[@name='product_template_id']" position="after">
                <field name="hsn_code"/>
            </xpath>

            <xpath expr="//field[@name='order_line']/list/field[@name='product_uom_qty']" position="after">
                <field name="product_uom_id"/>
            </xpath>
            <xpath expr="//field[@name='order_line']/list/field[@name='tax_id']" position="after">
                <field name="cess_id"
                       domain="[('type_tax_use', '=', 'sale'), ('company_id', 'parent_of', parent.company_id), ('country_id', '=', parent.tax_country_id)]"/>
            </xpath>

            <xpath expr="//group[field[@name='note']]" position="replace">
                <group colspan="4">
                    <group colspan="2" class="order-2 order-lg-0">
                        <field name="due_date"/>
                        <!--                        <field name="bank_id" required="payment_type == 'bank'" options="{'no_create': True}"/>-->
                        <!--                        <field name="bank_acc_number" required="payment_type == 'bank'" options="{'no_create': True}"/>-->
                        <!--                        <field name="bank_bic" required="payment_type == 'bank'" options="{'no_create': True}"/>-->
                        <!--                        <field name="bank_name" required="payment_type == 'bank'" options="{'no_create': True}"/>-->
                    </group>
                    <group string="Terms &amp; Conditions" colspan="2" class="order-2 order-rg-0">
                        <field name="title"/>
                        <field name="details"/>
                        <field name="remark"/>
                    </group>
                </group>

            </xpath>

            <xpath expr="//group[@name='sale_total']//field[@name='tax_totals']" position="after">
                <div>
                    <field name="amount_total_words" string="Total in WOrds"/>
                </div>
            </xpath>

            <xpath expr="//group[@name='sale_total']//field[@name='amount_total_words']" position="after">
                <group string="Payment Type">
                    <field name="payment_type" widget="radio" string="Payment Type *" required="1"/>

                    <field name="credit_payment" invisible="payment_type != 'credit'"
                           required="payment_type == 'credit'"/>
                    <field name="remaining_payment" invisible="payment_type != 'credit'"
                           required="payment_type == 'credit'"/>

                    <!-- Online Reference -->
                    <field name="online_ref" invisible="payment_type != 'online'" required="payment_type == 'online'"/>

                    <field name="total_challan_amt" readonly="1" invisible="payment_type != 'cheque'"
                           required="payment_type == 'cheque'"/>

<!--                    <field name="remaining_challan_amt"  invisible="1"/>-->

                    <field name="remaining_challan_amt" invisible="not show_remaining_challan_amt"/>



                    <field name="payment_rec" widget="monetary" invisible="payment_type != 'cash'"
                           required="payment_type == 'cash'"/>
                    <field name="payment_remark"/>
                </group>
            </xpath>
        </field>
    </record>

    <record id="view_sale_order_form_inherit_custom12" model="ir.ui.view">
        <field name="name">sale.order.custom</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale_management.sale_order_form_quote"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='sale_order_template_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <!--            hide from extra products for note book-->
            <xpath expr="//page[@name='optional_products']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

        </field>
    </record>

    <record id="view_sale_order_form_custom123" model="ir.ui.view">
        <field name="name">sale.order.custom</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale_pdf_quote_builder.sale_order_form_inherit_sale_pdf_quote_builder"/>
        <field name="arch" type="xml">
            <!--            <xpath expr="//field[@name='pdf_quote_builder']" position="attributes">-->
            <!--                <attribute name="invisible">1</attribute>-->
            <!--            </xpath>-->

            <!--            hide from extra products for note book-->
            <xpath expr="//page[@name='pdf_quote_builder']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

        </field>
    </record>


    <record id="view_order_tree_inherit_po" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit.po</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_quotation_tree"/>
        <field name="arch" type="xml">
            <!-- Add PO No after Number -->
            <xpath expr="//field[@name='name']" position="after">
                <field name="po_no"/>
            </xpath>

            <xpath expr="//field[@name='po_no']" position="after">
                <field name="po_date"/>
            </xpath>

        </field>
    </record>

    <!--    <odoo>-->
    <record id="view_sale_order_tree_inherit_po" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit.po</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_tree"/>
        <field name="arch" type="xml">

            <!-- Insert PO No after the order name/number -->
            <xpath expr="//field[@name='name']" position="after">
                <field name="po_no"/>
            </xpath>

            <!-- Insert PO Date after PO No -->
            <xpath expr="//field[@name='po_no']" position="after">
                <field name="po_date"/>
            </xpath>

        </field>
    </record>
    <!--    </odoo>-->

    <!--    <odoo>-->
    <record id="view_product_form_inherit_qr" model="ir.ui.view">
        <field name="name">product.form.inherit.qr.scan</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_only_form_view"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='standard_price']" position="after">
                <field name="cess_id" widget="many2many_tags" string="CESS Tax"/>
            </xpath>


            <xpath expr="//field[@name='hsn_code']" position="after">
                <field name="mfg_date"/>
                <field name="exp_date"/>
                <field name="qr_code" widget="image" class="oe_avatar"/>
                <!--                    <field name="upi_qr_string"/>-->
            </xpath>


            <!--                <xpath expr="//field[@name='barcode']" position="attributes">-->
            <!--                    <attribute name="invisible">1</attribute>-->
            <!--                </xpath>-->

            <xpath expr="//field[@name='barcode']" position="after">
                <!--                    <group>-->
                <!-- Barcode image -->
                <field name="barcode_image" widget="image"/>

                <!--                    </group>-->
            </xpath>


        </field>
    </record>
    <!--    </odoo>-->

    <!--    price_total-->


    <!--    <odoo>-->
    <record id="view_move_form_inherit_custom" model="ir.ui.view">
        <field name="name">account.move.form.inherit.custom</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">

            <!-- Example: add field near Invoice Date -->
            <xpath expr="//field[@name='amount_residual']" position="before">
                <field name="payment_received_amount"/>
            </xpath>

        </field>
    </record>
    <!--</odoo>-->


    <!--    <odoo>-->

    <!-- Tree View -->
    <record id="view_sale_challan_tree" model="ir.ui.view">
        <field name="name">sale.challan.tree</field>
        <field name="model">sale.challan</field>
        <field name="arch" type="xml">
            <list>
                <field name="challan_no"/>
                <field name="challan_amt"/>
                <!--                <field name="sale_order_id"/>-->
            </list>
        </field>
    </record>

    <!-- Form View -->
    <record id="view_sale_challan_form" model="ir.ui.view">
        <field name="name">sale.challan.form</field>
        <field name="model">sale.challan</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="challan_no"/>
                        <field name="challan_amt"/>
                        <!--                        <field name="sale_order_id"/>-->
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!--</odoo>-->


</odoo>
